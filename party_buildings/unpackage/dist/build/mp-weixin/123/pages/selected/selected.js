require('../../common/runtime.js');require('../../common/vendor.js');require('../../common/main.js');(global["webpackJsonp_123"]=global["webpackJsonp_123"]||[]).push([["pages/selected/selected"],{3286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o,u,r){try{var a=e[u](r),s=a.value}catch(c){return void n(c)}a.done?t(s):Promise.resolve(s).then(i,o)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){u(r,i,o,a,s,"next",e)}function s(e){u(r,i,o,a,s,"throw",e)}a(void 0)}))}}var a={onLoad:function(){this.showLoading=!0,Math.ceil(this.total/8)===this.i&&(this.status="nomore"),this.i=1,this.selectMember()},onReachBottom:function(){this.loadingData()},onReady:function(){this.$refs.uForm.setRules(this.rules)},data:function(){return{searchList:{name:"",identify:""},list:[],disabled:!1,btnWidth:70,show:!1,label:"",options:[{text:"编辑",style:{backgroundColor:"#007aff"}},{text:"删除",style:{backgroundColor:"#dd524d"}}],loading:!0,isFixed:!0,checkMode:"",src:"",i:1,status:"loadmore",total:0,showToast:!1,changeInfor:{id:"",name:"",identify:"",studentNumber:"",count:""},actionSheetList:[{text:"党员"},{text:"入党申请人"}],actionsearchList:[{text:"党员",value:"党员"},{text:"入党申请人",value:"入党申请人"},{text:"全部",value:""}],showAction:!1,searchAction:!1,rules:{name:[{required:!0,message:"请输入姓名",trigger:["blur"]},{required:!0,min:2,max:5,message:"名字2-5个字",trigger:["change"]}],count:[{required:!0,message:"请输入打卡次数",trigger:["blur"]}],studentNumber:[{required:!0,message:"请输入学号",trigger:["blur"]}],options1:[{label:"党员",value:"党员"},{label:"入党申请人",value:"入党申请人"}],showLoading:!1}}},methods:{searchMember:function(e){this.i=1,this.selectMember()},clearSearch:function(){this.i=1,this.selectMember()},selectMember:function(){var e=this;return r(i.default.mark((function t(){var n,o;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$myRequest({url:"/selectMember/selected",method:"post",data:{page:e.i,identify:e.searchList.identify,name:e.searchList.name}});case 2:n=t.sent,o=n.data,e.list=o.memberValues,e.total=o.total,console.log(o),e.showLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},click:function(e,t){var n=this;return r(i.default.mark((function o(){var u,r,a,s;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(1!=t){i.next=14;break}return i.next=3,n.$myRequest({url:"/selectMember/deleted",method:"post",data:{id:n.list[e].id}});case 3:if(u=i.sent,r=u.data,1!==r){i.next=12;break}return i.next=8,n.selectMember();case 8:n.total%8===0&&(n.i=n.i-1),console.log(n.i),console.log(n.total),n.$u.toast("删除了第".concat(++e,"个成员"));case 12:i.next=26;break;case 14:return i.next=16,n.$myRequest({url:"/selectMember/otherInfor",method:"post",data:{id:n.list[e].id}});case 16:a=i.sent,s=a.data,0===s.r?n.label="学生未注册":1===s.r?n.label="学生未实名":n.label="手机号："+s.phoneNumber+" 班级："+s.class,n.changeInfor.id=n.list[e].id,n.changeInfor.name=n.list[e].name,n.changeInfor.identify=n.list[e].identify,n.changeInfor.studentNumber=n.list[e].studentNumber,console.log(n.list[e].count),n.changeInfor.count=""+n.list[e].count,n.showToast=!0;case 26:case"end":return i.stop()}}),o)})))()},cancle:function(){this.showToast=!1},confirm:function(){var e=this;return r(i.default.mark((function t(){var n,o;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$myRequest({url:"/selectMember/update",method:"post",data:e.changeInfor});case 2:if(n=t.sent,o=n.data,console.log(o),1!==o.code){t.next=10;break}return t.next=8,e.selectMember();case 8:e.$u.toast("修改成功"),e.showToast=!1;case 10:case"end":return t.stop()}}),t)})))()},open:function(e){var t=this;this.list[e].show=!0,this.list.map((function(n,i){e!=i&&(t.list[i].show=!1)}))},loadingData:function(){var e=this;Math.ceil(this.total/8)!==this.i?(this.status="loading",this.i=++this.i,setTimeout((function(){e.selectMember(),e.status="loadmore"}),2e3)):this.status="nomore"},actionSheetCallback:function(e){this.changeInfor.identify=this.actionSheetList[e].text},actionSeachCallback:function(e){this.searchList.identify=this.actionsearchList[e].value,this.i=1,this.selectMember()}}};t.default=a},4336:function(e,t,n){},"43a4":function(e,t,n){"use strict";(function(e){n("e2f0");i(n("66fd"));var t=i(n("ba4b"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"5fab":function(e,t,n){"use strict";n.r(t);var i=n("3286"),o=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=o.a},"83c6":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var i={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"9b93"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-input/u-input")]).then(n.bind(null,"ad96"))},uActionSheet:function(){return n.e("uview-ui/components/u-action-sheet/u-action-sheet").then(n.bind(null,"526c"))},uSwipeAction:function(){return n.e("uview-ui/components/u-swipe-action/u-swipe-action").then(n.bind(null,"077a"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"76c2"))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,"43e5"))},uCellGroup:function(){return n.e("uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"bd5d"))},uCellItem:function(){return n.e("uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"fb34"))},uForm:function(){return n.e("uview-ui/components/u-form/u-form").then(n.bind(null,"b753"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"57fd"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"b0b2"))},uLoading:function(){return n.e("uview-ui/components/u-loading/u-loading").then(n.bind(null,"13d9"))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,{fontSize:"50rpx",fontWeight:"600",color:"#969696",textAlign:"center"});e._isMounted||(e.e0=function(t){e.searchAction=!0},e.e1=function(t){e.showAction=!0}),e.$mp.data=Object.assign({},{$root:{a0:n}})},u=[]},ba4b:function(e,t,n){"use strict";n.r(t);var i=n("83c6"),o=n("5fab");for(var u in o)"default"!==u&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("e7b0");var r,a=n("f0c5"),s=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=s.exports},e7b0:function(e,t,n){"use strict";var i=n("4336"),o=n.n(i);o.a}},[["43a4","common/runtime","common/vendor"]]]);