require('../../common/runtime.js');require('../../common/vendor.js');require('../../common/main.js');(global["webpackJsonp_123"]=global["webpackJsonp_123"]||[]).push([["pages/index/index"],{"045f":function(e,t,n){"use strict";var i=n("6a57"),u=n.n(i);u.a},4657:function(e,t,n){"use strict";n.r(t);var i=n("7bec"),u=n("750e");for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);n("045f");var r,s=n("f0c5"),a=Object(s["a"])(u["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=a.exports},"4f33":function(e,t,n){"use strict";(function(e){n("e2f0");i(n("66fd"));var t=i(n("4657"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"6a57":function(e,t,n){},"750e":function(e,t,n){"use strict";n.r(t);var i=n("9647"),u=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=u.a},"7bec":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uNoticeBar:function(){return n.e("uview-ui/components/u-notice-bar/u-notice-bar").then(n.bind(null,"2be2"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"2cfa"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"7961"))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,"43e5"))},uCellGroup:function(){return n.e("uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"bd5d"))},uCellItem:function(){return n.e("uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"fb34"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-input/u-input")]).then(n.bind(null,"ad96"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"b0b2"))},uToast:function(){return n.e("uview-ui/components/u-toast/u-toast").then(n.bind(null,"1ea0"))},uTabsSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs-swiper/u-tabs-swiper")]).then(n.bind(null,"78be"))},uDivider:function(){return n.e("uview-ui/components/u-divider/u-divider").then(n.bind(null,"8fed"))},yfsVideo:function(){return n.e("components/yfs-video/yfs-video").then(n.bind(null,"c7c5"))},uTabbar:function(){return n.e("uview-ui/components/u-tabbar/u-tabbar").then(n.bind(null,"221c"))}},u=function(){var e=this,t=e.$createElement,n=(e._self._c,{fontSize:"50rpx",fontWeight:"600",color:"#969696",textAlign:"center"});e.$mp.data=Object.assign({},{$root:{a0:n}})},o=[]},9647:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n("a34a"));function u(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n,i,u,o,r){try{var s=e[o](r),a=s.value}catch(c){return void n(c)}s.done?t(a):Promise.resolve(a).then(i,u)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,u){var o=e.apply(t,n);function s(e){r(o,i,u,s,a,"next",e)}function a(e){r(o,i,u,s,a,"throw",e)}s(void 0)}))}}var a=function(){n.e("components/yfs-video/yfs-video").then(function(){return resolve(n("c7c5"))}.bind(null,n)).catch(n.oe)},c={components:{yfsVideo:a},onReady:function(){var t=this;this.videoList.forEach((function(n,i){t.videoContext[t.videoContext.length]=e.createVideoContext("myVideo"+i,t)}))},onShow:function(){var e=this;return s(i.default.mark((function t(){var n,u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$myRequest({url:"/issue/selected"});case 2:n=t.sent,u=n.data,e.announceList=u;case 5:case"end":return t.stop()}}),t)})))()},onLoad:function(){var t=this;return s(i.default.mark((function n(){var u,o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.getVideo(),t.valicteidentify(),t.list=t.$store.state.list,u=e.getStorageSync("idVerification"),n.next=6,t.$myRequest({url:"/users/autoLogin",data:{autoLoginId:u},method:"post"});case 6:if(o=n.sent,"ok"===o.data){n.next=11;break}return n.next=10,e.showLoading({title:"未登录"});case 10:setTimeout((function(){e.redirectTo({url:"../login/login"}),e.hideLoading()}),2e3);case 11:case"end":return n.stop()}}),n)})))()},data:function(){var e;return e={menuList:[{name:"思想教育"},{name:"党务知识"},{name:"党建活动"},{name:"其他"}],loadingShow:!0,videoContext:[],current:0,swiperCurrent:0,announceList:[],issuer:[]},o(e,"current",0),o(e,"list",[]),o(e,"videoList",[]),o(e,"educateList",[]),o(e,"knowledgeList",[]),o(e,"activityList",[]),o(e,"othersList",[]),o(e,"content",""),o(e,"showAnnounce",!1),o(e,"issuer",""),o(e,"identify",""),o(e,"swiperList",[{image:"https://www.glut.edu.cn/__local/E/A2/91/4FCEE793B1437AB96A2F6D7F139_54E18427_5899A.jpg",title:"培育和践行核心价值观"},{image:"https://www.glut.edu.cn/__local/8/3C/3E/EDFDCFBBDC16525E1125BF8C221_79D2A4C8_45453.jpg",title:"史实学习动员大会"},{image:"https://www.glut.edu.cn/__local/9/8C/B0/39FF993123CDE13B13443E63E88_A5A28EBB_51A7B.jpg",title:"学党实悟思想办实事开新局"}]),e},methods:{checkAnnounce:function(e){"游客"!==this.identify?(this.content=this.announceList.announcement[e],this.issuer=this.announceList.issuer[e],this.showAnnounce=!0):this.$refs.authority.show({title:"请党员认证后再次操作",type:"error"})},handleIssue:function(){this.showAnnounce=!1},showMore:function(){"游客"!==this.identify?e.navigateTo({url:"../moreissuer/moreissuer"}):this.$refs.authority.show({title:"请党员认证后再次操作",type:"error"})},valicteidentify:function(){var t=this;return s(i.default.mark((function n(){var u,o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$myRequest({url:"/valicate/identity",method:"post",data:{id:e.getStorageSync("idVerification")}});case 2:u=n.sent,o=u.data,t.identify=o.identify;case 5:case"end":return n.stop()}}),n)})))()},transition:function(e){var t=e.detail.dx;this.$refs.uTabs.setDx(t)},animationfinish:function(e){var t=e.detail.current;this.$refs.uTabs.setFinishCurrent(t),this.swiperCurrent=t,this.current=t},tabsChange:function(e){this.swiperCurrent=e},getVideo:function(){var t=this;return s(i.default.mark((function n(){var u;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.educateList=[],t.activityList=[],t.knowledgeList=[],t.othersList=[],n.next=6,t.$myRequest({url:"/video/selected",method:"post",data:{id:e.getStorageSync("idVerification")}});case 6:u=n.sent,200===u.statusCode?(t.videoList=u.data,t.videoList.forEach((function(e,n){"思想教育"===e.theme?t.educateList.push(e):"党务知识"===e.theme?t.knowledgeList.push(e):"党务活动"===e.theme?t.activityList.push(e):t.othersList.push(e)}))):console.log(u);case 8:case"end":return n.stop()}}),n)})))()},screenChange:function(e){e.detail.fullScreen||(this.videoContext.pause(),this.showvideo=!1)},playVideo:function(e){var t=this;this.videoContext.forEach((function(n,i){i!==e&&t.videoContext[i].pause()}))},videoEnded:function(t){var n=this;return s(i.default.mark((function u(){var o;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$myRequest({url:"/video/clock",method:"post",data:{videoPath:t,id:e.getStorageSync("idVerification")}});case 2:o=i.sent,200===o.statusCode?(n.$refs.clockToast.show({title:o.data,type:"请实名"===o.data?"error":"您之前打过卡"===o.data?"warning":"success"}),"该视频打卡成功"===o.data&&n.getVideo()):console.log(o);case 4:case"end":return i.stop()}}),u)})))()}}};t.default=c}).call(this,n("543d")["default"])}},[["4f33","common/runtime","common/vendor"]]]);